(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[473],{4137:(e,t,i)=>{Promise.resolve().then(i.bind(i,9853))},6767:(e,t,i)=>{"use strict";i.d(t,{CartProvider:()=>n,_:()=>d});var a=i(5155),r=i(2115);let s=(0,r.createContext)(void 0);function n(e){let{children:t}=e,[i,n]=(0,r.useState)([]);return(0,a.jsx)(s.Provider,{value:{cart:i,addToCart:e=>{n(t=>t.find(t=>t.id===e.id)?t.map(t=>t.id===e.id?{...t,quantity:t.quantity+1}:t):[...t,{...e,quantity:1}])},removeFromCart:e=>{n(t=>t.filter(t=>t.id!==e))},updateQuantity:(e,t)=>{t<1||n(i=>i.map(i=>i.id===e?{...i,quantity:t}:i))},clearCart:()=>{n([])},getCartTotal:()=>i.reduce((e,t)=>e+(t.price.main+t.price.fractional/100)*t.quantity,0)},children:t})}function d(){let e=(0,r.useContext)(s);if(void 0===e)throw Error("useCart must be used within a CartProvider");return e}},9853:(e,t,i)=>{"use strict";i.d(t,{default:()=>o});var a=i(5155),r=i(6874),s=i.n(r),n=i(2115),d=i(8999),l=i(6767);function o(){let{cart:e,getCartTotal:t,clearCart:i}=(0,l._)(),r=(0,d.useRouter)();return((0,n.useEffect)(()=>{0===e.length&&r.push("/")},[e,r]),0===e.length)?null:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsx)("div",{className:"mb-6 flex justify-between",children:(0,a.jsx)(s(),{href:"/cart",className:"bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition-colors",children:"Powr\xf3t do koszyka"})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Podsumowanie zam\xf3wienia"}),(0,a.jsx)("div",{className:"border-t border-b py-4 mb-4",children:e.map(e=>(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:e.name}),(0,a.jsxs)("span",{className:"text-gray-600 ml-2",children:["x ",e.quantity]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{children:[(e.price.main+e.price.fractional/100).toFixed(2)," ","zł"]}),(0,a.jsxs)("div",{className:"text-gray-600",children:["Suma:"," ",((e.price.main+e.price.fractional/100)*e.quantity).toFixed(2)," ","zł"]})]})]},e.id))}),(0,a.jsxs)("div",{className:"text-xl font-bold text-right mb-6",children:["Łączna kwota: ",t().toFixed(2)," zł"]}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)("button",{onClick:()=>{let a={items:e,total:t()};localStorage.setItem("orderData",JSON.stringify(a)),i(),window.location.href="/confirmation"},className:"bg-green-600 text-white px-6 py-3 rounded-md hover:bg-green-700 transition-colors text-lg font-medium",children:"Zł\xf3ż Zam\xf3wienie"})})]})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[874,441,684,358],()=>t(4137)),_N_E=e.O()}]);